<form #f="ngForm" (ngSubmit)="save(f)">
  <nb-card>
      <nb-card-header> Agregar Colaborador </nb-card-header>
      <nb-card-body>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Rut</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.rut" name="rut" placeholder="Rut" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Nombre</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.first_name" name="name" placeholder="Nombre" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Apellido</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.last_name" name="lastname" placeholder="Apellido" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Email</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.email" name="email" placeholder="Email" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Dirección</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.address" name="address" placeholder="Dirección" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Ciudad</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.city" name="address" placeholder="Ciudad" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Teléfono</label>
              <div class="input-group col-md-10 col-sm-9">
                <input type="text" [(ngModel)]="data.phone" name="phone" placeholder="Teléfono" class="form-control" required />
              </div>
            </div>
            <div class="form-group row align-items-center" *ngIf="!isEdit">
              <label class="col-md-2 col-sm-3">Password</label>
              <div class="input-group col-md-5 col-sm-6">
                <input type="text" [(ngModel)]="password" name="password" placeholder="Password" class="form-control" [required]="!data.id" />
              </div>
              <div class="input-group col-md-4 col-sm-3">
                <button type="button" (click)="onClickGeneratePassword()" class="btn btn-primary btn-sm">Generar</button>
              </div>
            </div>
            <div class="form-group row align-items-center">
              <label class="col-md-2 col-sm-3">Enviar correo cuando se crea auditoria?</label>
              <div class="input-group col-md-10 col-sm-9">
                <label class="custom-control custom-radio">
                  <input
                    [(ngModel)]="data.audit_created_email"
                    name="auditEmail"
                    [value]="0"

                    type="radio" 
                    class="custom-control-input" 
                    required />

                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description">No</span>
                </label>
                <label class="custom-control custom-radio">
                  <input 
                  [(ngModel)]="data.audit_created_email"
                    name="auditEmail"
                    [value]="1"

                    type="radio" 
                    class="custom-control-input" 
                    required />

                  <span class="custom-control-indicator"></span>
                  <span   class="custom-control-description">Si</span>
                </label>
              </div>
            </div>
      </nb-card-body>
  </nb-card>

  <div class="row">
    <div class="col-sm-6">
      <nb-card>
        <nb-card-header>Locales</nb-card-header>
        <nb-card-body>
          <div *ngFor="let store of stores">
            <nb-checkbox [value]="getValue(store.id,'stores')" (change)="toggle($event,store.id,'stores')">{{ store.name }}</nb-checkbox>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
    <div class="col-sm-6">
      <nb-card>
        <nb-card-header>Roles</nb-card-header>
        <nb-card-body>
          <div *ngFor="let role of roles">
            <nb-checkbox [value]="getValue(role.id,'roles')" (change)="toggle($event,role.id,'roles')">{{ role.name }}</nb-checkbox>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
  </div>

  <nb-card>
    <nb-card-body>
      <button class="btn btn-md btn-primary">Guardar</button>
      <button type="button" class="btn btn-md btn-secondary" (click)="onCancel()">Cancelar</button>
    </nb-card-body>
  </nb-card>
</form>